{"version":3,"sources":["main.js"],"names":["router","hash","replace","$splash","hide","$home","show","$mainContent","$news","$masonry","masonry","ScrollTo","$backArrow","removeClass","attr","WP","home","$newsLink","addClass","$","html","splash","timeout","setTimeout","scrollAnimationDuration","centerVideo","videoWidth","$noonVideo","width","halfWindowWidth","window","marginLeft","css","margin-left","initVideo","videoElement","document","getElementById","addEventListener","opacity","display","load","setWindowSized","$window","each","$this","this","windowHeight","height","jQuery","ready","resize","location","onhashchange","scroll","scrollTop","on","imagesLoaded","itemSelector","transitionDuration","percentPosition"],"mappings":"AAyBA,QAASA,QAAQC,GAEbA,EAAOA,EAAKC,QAAQ,MAAM,IAEZ,SAATD,GAEHE,QAAQC,OAERC,MAAMC,OACNC,aAAaD,OACbE,MAAMF,OAENG,SAASC,UAETF,MAAMG,WAENC,WAAWC,YAAY,YAAYC,KAAK,OAAQC,GAAGC,MACnDC,UAAUC,SAAS,YAEnBC,EAAE,6BAA6BL,KAAK,UAAU,eAC9CK,EAAE,SAASC,KAAK,gBAEG,SAATnB,GAEVE,QAAQC,OACRC,MAAMC,OAAOK,WAEbC,WAAWC,YAAY,YAAYC,KAAK,OAAQC,GAAGM,QACnDJ,UAAUJ,YAAY,YAEtBM,EAAE,6BAA6BL,KAAK,UAAU,QAC9CK,EAAE,SAASC,KAAK,QAEhBE,QAAUC,WAAW,WACnBhB,aAAaH,OACbI,MAAMJ,QACLoB,0BAEgB,WAATvB,IAEVE,QAAQG,OACRD,MAAMD,OAENQ,WAAWM,SAAS,YACpBD,UAAUC,SAAS,YAEnBC,EAAE,6BAA6BL,KAAK,UAAU,QAC9CK,EAAE,SAASC,KAAK,SAQtB,QAASK,eACP,GAAIC,GAAaC,WAAWC,QACxBC,EAAmBV,EAAEW,QAAQF,QAAU,EACvCG,GAAeL,EAAaG,GAAmB,CACnDF,YAAWK,KACTC,cAAe,IAAMF,EAAa,OAItC,QAASG,aACP,GAAIC,GAAeC,SAASC,eAAe,aAE3CF,GAAaG,iBAAiB,OAAQ,WACpCnB,EAAEgB,GAAcH,KACdO,QAAW,EACXC,QAAW,UAEbf,gBAGFU,EAAaM,OAIf,QAASC,kBACPC,QAAQC,KAAK,WACX,GAAIC,GAAQ1B,EAAE2B,MACVC,EAAe5B,EAAEW,QAAQkB,QAE3BH,GAAMb,IADJa,EAAMG,SAAWD,GAEjBC,OAAU,SAIVA,OAAU7B,EAAEW,QAAQkB,aA7G5B,GAAIxB,yBAA0B,IAI1Bf,SAAWU,EAAE,eACfwB,QAAUxB,EAAE,cAEZhB,QAAUgB,EAAE,WACZd,MAAQc,EAAE,SACVZ,aAAeY,EAAE,iBAEjBX,MAAQW,EAAE,SACVP,WAAaO,EAAE,eACfF,UAAYE,EAAE,iBAEdQ,WAAaR,EAAE,eAEfG,OAkGF2B,QAAOb,UAAUc,MAAM,WACrB,YAGAhB,aAGAQ,iBACAjB,cACAN,EAAEW,QAAQqB,OAAO,WACfT,iBACAjB,gBAIGK,OAAOsB,SAASnD,MACnBD,OAAQ8B,OAAOsB,SAASnD,MAI1B6B,OAAOuB,aAAe,WACpBrD,OAAQ8B,OAAOsB,SAASnD,OAI1BkB,EAAEW,QAAQwB,OAAO,WAEe,IAA1BnC,EAAEW,QAAQyB,aAA8C,cAAzBzB,OAAOsB,SAASnD,OACjDM,aAAaH,OACb0B,OAAOsB,SAASnD,KAAO,YAK3BkB,EAAE,gBAAgBqC,GAAG,QAAS,WAC7B1B,OAAOsB,SAASnD,KAAO,WAGxBQ,SAASgD,aAAc,WACtBhD,SAASC,SACPgD,aAAc,mBACbC,mBAAoB,EACpBC,iBAAiB","file":"main.min.js","sourcesContent":["/* jshint browser: true, devel: true, indent: 2, curly: true, eqeqeq: true, futurehostile: true, latedef: true, undef: true, unused: true */\n/* global $, jQuery, document, WP */\n\n// VARIABLES\n\nvar scrollAnimationDuration = 400;\n\n// CACHED\n\nvar $masonry = $('.js-masonry'),\n  $window = $('.js-window'),\n\n  $splash = $('#splash'),\n  $home = $('#home'),\n  $mainContent = $('#main-content'),\n\n  $news = $('#news'),\n  $backArrow = $('.back-arrow'),\n  $newsLink = $('.js-news-link'),\n\n  $noonVideo = $('#noon-video'),\n\n  timeout;\n\n// ROUTER\nfunction router( hash ) {\n\n    hash = hash.replace(\"#!/\",'');\n\n    if ( hash === 'news' ) {\n\n      $splash.hide();\n\n      $home.show();\n      $mainContent.show();\n      $news.show();\n\n      $masonry.masonry();\n\n      $news.ScrollTo();\n\n      $backArrow.removeClass('u-hidden').attr('href', WP.home);\n      $newsLink.addClass('u-hidden');\n\n      $('meta[property=\"og:title\"]').attr('content','ARPA - News');\n      $('title').html('ARPA - News');\n\n    } else if ( hash === 'home' ) {\n\n      $splash.hide();\n      $home.show().ScrollTo();\n\n      $backArrow.removeClass('u-hidden').attr('href', WP.splash);\n      $newsLink.removeClass('u-hidden');\n\n      $('meta[property=\"og:title\"]').attr('content','ARPA');\n      $('title').html('ARPA');\n\n      timeout = setTimeout(function() {\n        $mainContent.hide();\n        $news.hide();\n      }, scrollAnimationDuration);\n\n    } else if ( hash === 'splash' ) {\n\n      $splash.show();\n      $home.hide();\n\n      $backArrow.addClass('u-hidden');\n      $newsLink.addClass('u-hidden');\n\n      $('meta[property=\"og:title\"]').attr('content','ARPA');\n      $('title').html('ARPA');\n\n    }\n\n}\n\n// VIDEO\n\nfunction centerVideo() {\n  var videoWidth = $noonVideo.width();\n  var halfWindowWidth = ($(window).width() / 2);\n  var marginLeft = ((videoWidth - halfWindowWidth) / 2);\n  $noonVideo.css({\n    'margin-left': '-' + marginLeft + 'px'\n  });\n}\n\nfunction initVideo() {\n  var videoElement = document.getElementById('noon-video');\n\n  videoElement.addEventListener('play', function() {\n    $(videoElement).css({\n      'opacity': 1,\n      'display': 'block'\n    });\n    centerVideo();\n  });\n\n  videoElement.load();\n}\n\n// LAYOUT FIXES\nfunction setWindowSized() {\n  $window.each(function() {\n    var $this = $(this);\n    var windowHeight = $(window).height();\n    if ($this.height() > windowHeight) {\n      $this.css({\n        'height': 'auto'\n      });\n    } else {\n      $this.css({\n        'height': $(window).height()\n      });\n    }\n  });\n}\n\njQuery(document).ready(function () {\n  'use strict';\n\n  // VIDEO\n  initVideo();\n\n  // LAYOUT\n  setWindowSized();\n  centerVideo();\n  $(window).resize(function() {\n    setWindowSized();\n    centerVideo();\n  });\n\n  // ROUTER: on load\n  if ( window.location.hash ) {\n    router( window.location.hash );\n  }\n\n  // ROUTER: on change\n  window.onhashchange = function () {\n    router( window.location.hash );\n  };\n\n  // SCROLL EVENTS\n  $(window).scroll(function() {\n    // when you scroll back to top of the page set hash as home\n    if ($(window).scrollTop() === 0 && window.location.hash !== '#!/splash') {\n      $mainContent.hide();\n      window.location.hash = '!/home';\n    }\n  });\n\n  // CLICK EVENTS\n  $('#splash-arpa').on('click', function() {\n  \twindow.location.hash = '!/home';\n  });\n\n  $masonry.imagesLoaded( function() {\n\t  $masonry.masonry({\n\t    itemSelector: '.js-masonry-item',\n      transitionDuration: 0,\n      percentPosition: true\n\t  });\n  });\n\n});"],"sourceRoot":"/source/"}